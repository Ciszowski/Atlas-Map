{"ast":null,"code":"import _classCallCheck from \"/home/karyl/Documents/Googlemap/googlemap/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/karyl/Documents/Googlemap/googlemap/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/karyl/Documents/Googlemap/googlemap/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/karyl/Documents/Googlemap/googlemap/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/karyl/Documents/Googlemap/googlemap/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/karyl/Documents/Googlemap/googlemap/src/Export.js\";\nimport React, { Component } from 'react'; // Permet de remplacer tout les caractères accentués par des caractères non accentués\n\nString.prototype.sansAccent = function () {\n  var accent = [/[\\300-\\306]/g, /[\\340-\\346]/g, // A, a\n  /[\\310-\\313]/g, /[\\350-\\353]/g, // E, e\n  /[\\314-\\317]/g, /[\\354-\\357]/g, // I, i\n  /[\\322-\\330]/g, /[\\362-\\370]/g, // O, o\n  /[\\331-\\334]/g, /[\\371-\\374]/g, // U, u\n  /[\\321]/g, /[\\361]/g, // N, n\n  /[\\307]/g, /[\\347]/g];\n  var noaccent = ['A', 'a', 'E', 'e', 'I', 'i', 'O', 'o', 'U', 'u', 'N', 'n', 'C', 'c'];\n  var str = this;\n\n  for (var i = 0; i < accent.length; i++) {\n    str = str.replace(accent[i], noaccent[i]);\n  }\n\n  return str;\n};\n\nvar Export =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Export, _Component);\n\n  function Export() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Export);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Export)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.exportJson = function () {\n      var file = prompt(\"what's my name ?\"); // Save le fichier demandé par l'utilisateur\n\n      console.log(JSON.stringify(_this.props.jsonSave));\n\n      if (file !== null) {\n        fetch('http://192.168.15.94:8080/save?name=' + file.toLowerCase().sansAccent() + '.txt', {\n          method: 'POST',\n          body: JSON.stringify(_this.props.jsonSave)\n        }).then(function (data) {\n          return data;\n        }).then(function (res) {\n          console.log(res);\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Export, [{\n    key: \"render\",\n    // Envoie en string le tableau en format JSON\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.exportJson,\n        className: \"export\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, \"Export\"));\n    }\n  }]);\n\n  return Export;\n}(Component);\n\nexport default Export;","map":{"version":3,"sources":["/home/karyl/Documents/Googlemap/googlemap/src/Export.js"],"names":["React","Component","String","prototype","sansAccent","accent","noaccent","str","i","length","replace","Export","exportJson","file","prompt","console","log","JSON","stringify","props","jsonSave","fetch","toLowerCase","method","body","then","data","res","catch","error"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CAEA;;AACAC,MAAM,CAACC,SAAP,CAAiBC,UAAjB,GAA8B,YAAU;AACpC,MAAIC,MAAM,GAAG,CACT,cADS,EACO,cADP,EACuB;AAChC,gBAFS,EAEO,cAFP,EAEuB;AAChC,gBAHS,EAGO,cAHP,EAGuB;AAChC,gBAJS,EAIO,cAJP,EAIuB;AAChC,gBALS,EAKO,cALP,EAKuB;AAChC,WANS,EAME,SANF,EAMa;AACtB,WAPS,EAOE,SAPF,CAAb;AASA,MAAIC,QAAQ,GAAG,CAAC,GAAD,EAAK,GAAL,EAAS,GAAT,EAAa,GAAb,EAAiB,GAAjB,EAAqB,GAArB,EAAyB,GAAzB,EAA6B,GAA7B,EAAiC,GAAjC,EAAqC,GAArC,EAAyC,GAAzC,EAA6C,GAA7C,EAAiD,GAAjD,EAAqD,GAArD,CAAf;AAEA,MAAIC,GAAG,GAAG,IAAV;;AACA,OAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGH,MAAM,CAACI,MAA1B,EAAkCD,CAAC,EAAnC,EAAsC;AAClCD,IAAAA,GAAG,GAAGA,GAAG,CAACG,OAAJ,CAAYL,MAAM,CAACG,CAAD,CAAlB,EAAuBF,QAAQ,CAACE,CAAD,CAA/B,CAAN;AACH;;AAED,SAAOD,GAAP;AACH,CAlBD;;IAoBMI,M;;;;;;;;;;;;;;;;;;UACFC,U,GAAa,YAAM;AACf,UAAIC,IAAI,GAAGC,MAAM,CAAC,kBAAD,CAAjB,CADe,CACwB;;AACvCC,MAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAe,MAAKC,KAAL,CAAWC,QAA1B,CAAZ;;AACA,UAAGP,IAAI,KAAK,IAAZ,EAAiB;AACjBQ,QAAAA,KAAK,CAAC,yCAAyCR,IAAI,CAACS,WAAL,GAAmBlB,UAAnB,EAAzC,GAA2E,MAA5E,EAAmF;AACpFmB,UAAAA,MAAM,EAAE,MAD4E;AAEpFC,UAAAA,IAAI,EAAEP,IAAI,CAACC,SAAL,CAAe,MAAKC,KAAL,CAAWC,QAA1B;AAF8E,SAAnF,CAAL,CAICK,IAJD,CAIM,UAAAC,IAAI;AAAA,iBAAEA,IAAF;AAAA,SAJV,EAKCD,IALD,CAKM,UAAAE,GAAG,EAAE;AAACZ,UAAAA,OAAO,CAACC,GAAR,CAAYW,GAAZ;AAAiB,SAL7B,EAMCC,KAND,CAMO,UAAAC,KAAK,EAAE;AAACd,UAAAA,OAAO,CAACC,GAAR,CAAYa,KAAZ;AAAmB,SANlC;AAOH;AAAC,K;;;;;;;AAAC;6BACK;AACJ,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAQ,QAAA,OAAO,EAAE,KAAKjB,UAAtB;AAAkC,QAAA,SAAS,EAAC,QAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,CADJ;AAKH;;;;EAnBgBX,S;;AAsBrB,eAAeU,MAAf","sourcesContent":["import React, { Component } from 'react';\n\n// Permet de remplacer tout les caractères accentués par des caractères non accentués\nString.prototype.sansAccent = function(){\n    var accent = [\n        /[\\300-\\306]/g, /[\\340-\\346]/g, // A, a\n        /[\\310-\\313]/g, /[\\350-\\353]/g, // E, e\n        /[\\314-\\317]/g, /[\\354-\\357]/g, // I, i\n        /[\\322-\\330]/g, /[\\362-\\370]/g, // O, o\n        /[\\331-\\334]/g, /[\\371-\\374]/g, // U, u\n        /[\\321]/g, /[\\361]/g, // N, n\n        /[\\307]/g, /[\\347]/g, // C, c\n    ];\n    var noaccent = ['A','a','E','e','I','i','O','o','U','u','N','n','C','c'];\n     \n    var str = this;\n    for(var i = 0; i < accent.length; i++){\n        str = str.replace(accent[i], noaccent[i]);\n    }\n     \n    return str;\n}\n\nclass Export extends Component{\n    exportJson = () => {\n        let file = prompt(\"what's my name ?\"); // Save le fichier demandé par l'utilisateur\n        console.log(JSON.stringify(this.props.jsonSave));\n        if(file !== null){\n        fetch('http://192.168.15.94:8080/save?name=' + file.toLowerCase().sansAccent() + '.txt',{\n            method: 'POST',\n            body: JSON.stringify(this.props.jsonSave)\n        })\n        .then(data=>data)\n        .then(res=>{console.log(res)})\n        .catch(error=>{console.log(error)})\n    }} // Envoie en string le tableau en format JSON\n    render(){\n        return(\n            <div>\n            <button onClick={this.exportJson} className=\"export\">Export</button>\n            </div>\n        )\n    }\n}\n\nexport default Export;"]},"metadata":{},"sourceType":"module"}